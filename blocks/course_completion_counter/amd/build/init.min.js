define(["jquery","block_course_completion_counter/progressbar"],function(t,e){var o=function(o,r,n,i,a){var s=new e.Circle(o,{color:"#aaa",strokeWidth:4,trailWidth:1,easing:"easeInOut",duration:2e3,text:{autoStyleContainer:!1,className:"text"},from:{color:r,width:4},to:{color:r,width:4},step:function(t,e){e.path.setAttribute("stroke",t.color),e.path.setAttribute("stroke-width",t.width);var o=Math.round(e.value()*a);e.setText(o)}});s.text.style.fontFamily='"Raleway", Helvetica, sans-serif',s.text.style.fontSize="3rem",s.text.style.color="white",t(o).prepend("<p class='title-counter'>"+i+"</p>"),s.animate(n)};return{init:function(e,r,n){var i=0;t(window).on("resize scroll",function(){if(t(".container_counters").isInViewport()&&0==i){var a=1/e;console.log(a),a==1/0&&(a=1),o("#counter1","#3174b7",1,"Συνολικά μαθήματα",e),o("#counter2","#bd2130",r*a,"Υπολειπόμενα μαθήματα",e),o("#counter3","#28a745",n*a,"Ολοκληρωμένα μαθήματα",e),i=1}}),t.fn.isInViewport=function(){var e=t(this).offset().top,o=e+t(this).outerHeight(),r=t(window).scrollTop(),n=r+t(window).height();return o>r&&e<n}}}});