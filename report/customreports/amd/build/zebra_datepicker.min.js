!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){"use strict";t.Zebra_DatePicker=function(e,s){this.version="1.9.13";var i,n,a,r,o,d,c,l,g,_,h,p,u,m,f,b,y,v,w,k,D,A,C,M,P,F,Z,S,x,Y,I,z,j,N,H,O,L,T,R,W,B,E,Q,J,G,U,V={always_visible:!1,container:t("body"),current_date:!1,custom_classes:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"above",direction:0,disable_time_picker:!1,disabled_dates:!1,enabled_dates:!1,enabled_hours:!1,enabled_minutes:!1,enabled_seconds:!1,fast_navigation:!0,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},icon_margin:!1,icon_position:"right",inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,navigation:["&#9664;","&#9654;","&#9650;","&#9660;"],offset:[5,-5],open_icon_only:!1,open_on_focus:!1,pair:!1,readonly_element:!0,rtl:!1,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null},$={},q={},X=!1,K="",tt=!1,et=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),st=this,it=t(e),nt=function(e){var _,Z,O,Q,nt={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"],hours:["G","g","H","h"],minutes:["i"],seconds:["s"],ampm:["A","a"]},ot=null,ct=!1;for(O=0;O<3;O++)K+=Math.floor(65536*(1+Math.random())).toString(16);if(m=[],f=[],!e)for(_ in st.settings=t.extend({},V,t.fn.Zebra_DatePicker.defaults,s),q.readonly=it.attr("readonly"),q.style=it.attr("style"),q.padding_left=parseInt(it.css("paddingLeft"),10)||0,q.padding_right=parseInt(it.css("paddingRight"),10)||0,it.data())0===_.indexOf("zdp_")&&(_=_.replace(/^zdp\_/,""),void 0!==V[_]&&(st.settings[_]="pair"===_?t(it.data("zdp_"+_)):it.data("zdp_"+_)));for(st.settings.readonly_element?it.attr("readonly","readonly"):it.removeAttr("readonly"),B=!1,G=[];!ct;){for(ot in nt)t.each(nt[ot],function(e,s){var i,n;if(st.settings.format.indexOf(s)>-1)if("days"===ot)G.push("days");else if("months"===ot)G.push("months");else if("years"===ot)G.push("years");else if(("hours"===ot||"minutes"===ot||"seconds"===ot||"ampm"===ot)&&!st.settings.disable_time_picker)if(B||(B={is12hour:!1},G.push("time")),"hours"===ot)for(B.hour_format=s,"g"===s||"h"===s?(n=12,B.is12hour=!0):n=24,B.hours=[],t.isArray(st.settings.enabled_hours)&&(st.settings.enabled_hour=st.settings.enabled_hours.map(function(t){return parseInt(t,10)})),i=12===n?1:0;i<(12===n?13:n);i++)(!t.isArray(st.settings.enabled_hours)||t.inArray(i,st.settings.enabled_hours)>-1)&&B.hours.push(i);else if("minutes"===ot)for(B.minutes=[],t.isArray(st.settings.enabled_minutes)&&(st.settings.enabled_minutes=st.settings.enabled_minutes.map(function(t){return parseInt(t,10)})),i=0;i<60;i++)(!t.isArray(st.settings.enabled_minutes)||t.inArray(i,st.settings.enabled_minutes)>-1)&&B.minutes.push(i);else if("seconds"===ot)for(B.seconds=[],t.isArray(st.settings.enabled_seconds)&&(st.settings.enabled_seconds=st.settings.enabled_seconds.map(function(t){return parseInt(t,10)})),i=0;i<60;i++)(!t.isArray(st.settings.enabled_seconds)||t.inArray(i,st.settings.enabled_seconds)>-1)&&B.seconds.push(i);else B.ampm=["am","pm"]});B.hour_format&&B.ampm&&!1===B.is12hour?st.settings.format=st.settings.format.replace(B.hour_format,B.hour_format.toLowerCase()):ct=!0}for(O in 0===G.length&&(G=["years","months","days"]),-1===t.inArray(st.settings.view,G)&&(st.settings.view=G[G.length-1]),c=[],st.settings.custom_classes)st.settings.custom_classes.hasOwnProperty(O)&&-1===c.indexOf(O)&&c.push(O);for(Q=0;Q<2+c.length;Q++)Z=0===Q?st.settings.disabled_dates:1===Q?st.settings.enabled_dates:st.settings.custom_classes[c[Q-2]],t.isArray(Z)&&Z.length>0&&t.each(Z,function(){var e,s,i,n,a=this.split(" ");for(e=0;e<4;e++){for(a[e]||(a[e]="*"),a[e]=a[e].indexOf(",")>-1?a[e].split(","):new Array(a[e]),s=0;s<a[e].length;s++)if(a[e][s].indexOf("-")>-1&&null!==(n=a[e][s].match(/^([0-9]+)\-([0-9]+)/))){for(i=wt(n[1]);i<=wt(n[2]);i++)-1===t.inArray(i,a[e])&&a[e].push(i+"");a[e].splice(s,1)}for(s=0;s<a[e].length;s++)a[e][s]=isNaN(wt(a[e][s]))?a[e][s]:wt(a[e][s])}0===Q?m.push(a):1===Q?f.push(a):(void 0===$[c[Q-2]]&&($[c[Q-2]]=[]),$[c[Q-2]].push(a))});var lt,gt,_t=!1!==st.settings.current_date?new Date(st.settings.current_date):new Date,ut=st.settings.reference_date?st.settings.reference_date:it.data("zdp_reference_date")&&void 0!==it.data("zdp_reference_date")?it.data("zdp_reference_date"):_t;if(T=void 0,b=void 0,v=ut.getMonth(),o=_t.getMonth(),w=ut.getFullYear(),d=_t.getFullYear(),y=ut.getDate(),r=_t.getDate(),!0===st.settings.direction)T=ut;else if(!1===st.settings.direction)M=(b=ut).getMonth(),P=b.getFullYear(),C=b.getDate();else if(!t.isArray(st.settings.direction)&&pt(st.settings.direction)&&wt(st.settings.direction)>0||t.isArray(st.settings.direction)&&((lt=at(st.settings.direction[0]))||!0===st.settings.direction[0]||pt(st.settings.direction[0])&&st.settings.direction[0]>0)&&((gt=at(st.settings.direction[1]))||!1===st.settings.direction[1]||pt(st.settings.direction[1])&&st.settings.direction[1]>=0))T=lt||new Date(w,v,y+(t.isArray(st.settings.direction)?wt(!0===st.settings.direction[0]?0:st.settings.direction[0]):wt(st.settings.direction))),v=T.getMonth(),w=T.getFullYear(),y=T.getDate(),gt&&+gt>=+T?b=gt:!gt&&!1!==st.settings.direction[1]&&t.isArray(st.settings.direction)&&(b=new Date(w,v,y+wt(st.settings.direction[1]))),b&&(M=b.getMonth(),P=b.getFullYear(),C=b.getDate());else if(!t.isArray(st.settings.direction)&&pt(st.settings.direction)&&wt(st.settings.direction)<0||t.isArray(st.settings.direction)&&(!1===st.settings.direction[0]||pt(st.settings.direction[0])&&st.settings.direction[0]<0)&&((lt=at(st.settings.direction[1]))||pt(st.settings.direction[1])&&st.settings.direction[1]>=0))b=new Date(w,v,y+(t.isArray(st.settings.direction)?wt(!1===st.settings.direction[0]?0:st.settings.direction[0]):wt(st.settings.direction))),M=b.getMonth(),P=b.getFullYear(),C=b.getDate(),lt&&+lt<+b?T=lt:!lt&&t.isArray(st.settings.direction)&&(T=new Date(P,M,C-wt(st.settings.direction[1]))),T&&(v=T.getMonth(),w=T.getFullYear(),y=T.getDate());else if(t.isArray(st.settings.disabled_dates)&&st.settings.disabled_dates.length>0)for(var yt in m)if(t.inArray("*",m[yt][0])>-1&&t.inArray("*",m[yt][1])>-1&&t.inArray("*",m[yt][2])>-1&&t.inArray("*",m[yt][3])>-1){var At=[];if(t.each(f,function(){"*"!==this[2][0]&&At.push(parseInt(this[2][0]+("*"===this[1][0]?"12":vt(this[1][0],2))+("*"===this[0][0]?"*"===this[1][0]?"31":new Date(this[2][0],this[1][0],0).getDate():vt(this[0][0],2)),10))}),At.sort(),At.length>0){var Ct=(At[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);w=parseInt(Ct[1],10),v=parseInt(Ct[2],10)-1,y=parseInt(Ct[3],10)}break}if(ht(w,v,y)){for(;ht(w);)T?(w++,v=0):(w--,v=11);for(;ht(w,v);)T?(v++,y=1):(v--,y=new Date(w,v+1,0).getDate()),v>11?(w++,v=0,y=1):v<0&&(w--,v=11,y=new Date(w,v+1,0).getDate());for(;ht(w,v,y);)T?y++:y--,_t=new Date(w,v,y),w=_t.getFullYear(),v=_t.getMonth(),y=_t.getDate();_t=new Date(w,v,y),w=_t.getFullYear(),v=_t.getMonth(),y=_t.getDate()}st.settings.start_date&&"object"==typeof st.settings.start_date&&st.settings.start_date instanceof Date&&(st.settings.start_date=dt(st.settings.start_date));var Mt=at(it.val()||(st.settings.start_date?st.settings.start_date:""));if(Mt&&st.settings.strict&&ht(Mt.getFullYear(),Mt.getMonth(),Mt.getDate())&&it.val(""),e||void 0===T&&void 0===Mt||kt(void 0!==Mt?Mt:T),!(st.settings.always_visible instanceof jQuery)){if(!e){if(st.settings.show_icon){"firefox"===Dt.name&&it.is('input[type="text"]')&&"inline"===it.css("display")&&it.css("display","inline-block");var Pt=parseInt(it.css("marginTop"),10)||0,Ft=parseInt(it.css("marginRight"),10)||0,Zt=parseInt(it.css("marginBottom"),10)||0,St=parseInt(it.css("marginLeft"),10)||0,xt=t('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:it.css("display"),position:"static"===it.css("position")?"relative":it.css("position"),float:it.css("float"),top:it.css("top"),right:it.css("right"),bottom:it.css("bottom"),left:it.css("left"),marginTop:Pt<0?Pt:0,marginRight:Ft<0?Ft:0,marginBottom:Zt<0?Zt:0,marginLeft:St<0?St:0,paddingTop:Pt,paddingRight:Ft,paddingBottom:Zt,paddingLeft:St});"block"===it.css("display")&&xt.css("width",it.outerWidth(!0)),it.wrap(xt).css({position:"relative",float:"none",top:"auto",right:"auto",bottom:"auto",left:"auto",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),A=t('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"===it.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),st.icon=A,n=st.settings.open_icon_only?A:A.add(it)}else n=it;n.on("click.Zebra_DatePicker_"+K+(st.settings.open_on_focus?" focus.Zebra_DatePicker_"+K:""),function(){l.hasClass("dp_hidden")&&!it.attr("disabled")&&(!tt||st.settings.readonly_element?st.show():(clearTimeout(R),R=setTimeout(function(){st.show()},600)))}),n.on("keydown.Zebra_DatePicker_"+K,function(t){9!==t.keyCode||l.hasClass("dp_hidden")||st.hide()}),!st.settings.readonly_element&&st.settings.pair&&it.on("blur.Zebra_DatePicker_"+K,function(){var e;(e=at(t(this).val()))&&!ht(e.getFullYear(),e.getMonth(),e.getDate())&&kt(e)}),void 0!==A&&A.insertAfter(it)}if(void 0!==A){A.attr("style","");var Yt=it.outerWidth(),It=it.outerHeight(),zt=A.outerWidth(),jt=A.outerHeight();A.css("top",(It-jt)/2),st.settings.inside?"right"===st.settings.icon_position?(A.css("right",!1!==st.settings.icon_margin?st.settings.icon_margin:q.padding_right),it.css("paddingRight",2*(!1!==st.settings.icon_margin?st.settings.icon_margin:q.padding_right)+zt)):(A.css("left",!1!==st.settings.icon_margin?st.settings.icon_margin:q.padding_left),it.css("paddingLeft",2*(!1!==st.settings.icon_margin?st.settings.icon_margin:q.padding_left)+zt)):A.css("left",Yt+(!1!==st.settings.icon_margin?st.settings.icon_margin:q.padding_left)),A.removeClass("Zebra_DatePicker_Icon_Disabled"),"disabled"===it.attr("disabled")&&A.addClass("Zebra_DatePicker_Icon_Disabled")}}if(L=!1!==st.settings.show_select_today&&t.inArray("days",G)>-1&&!ht(d,o,r)&&st.settings.show_select_today,e)return t(".dp_previous",l).html(st.settings.navigation[0]),t(".dp_next",l).html(st.settings.navigation[1]),t(".dp_time_controls_increase .dp_time_control",l).html(st.settings.navigation[2]),t(".dp_time_controls_decrease .dp_time_control",l).html(st.settings.navigation[3]),t(".dp_clear",l).html(st.settings.lang_clear_date),t(".dp_today",l).html(st.settings.show_select_today),void(l.is(":visible")&&(O=st.settings.view,st.settings.view=J,st.show(!1),st.settings.view=O));t(window).on("resize.Zebra_DatePicker_"+K+", orientationchange.Zebra_DatePicker_"+K,function(){st.hide()});var Nt='<div class="Zebra_DatePicker"><table class="dp_header dp_actions"><tr><td class="dp_previous">'+st.settings.navigation[0]+(et?"&#xFE0E;":"")+'</td><td class="dp_caption"></td><td class="dp_next">'+st.settings.navigation[1]+(et?"&#xFE0E;":"")+'</td></tr></table><table class="dp_daypicker'+(st.settings.show_week_number?" dp_week_numbers":"")+' dp_body"></table><table class="dp_monthpicker dp_body"></table><table class="dp_yearpicker dp_body"></table><table class="dp_timepicker dp_body"></table><table class="dp_footer dp_actions"><tr><td class="dp_today">'+L+'</td><td class="dp_clear">'+st.settings.lang_clear_date+'</td><td class="dp_view_toggler dp_icon">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="dp_confirm dp_icon"></td></tr></table></div>';l=t(Nt),D=t("table.dp_header",l),g=t("table.dp_daypicker",l),F=t("table.dp_monthpicker",l),E=t("table.dp_yearpicker",l),W=t("table.dp_timepicker",l),k=t("table.dp_footer",l),H=t("td.dp_today",k),i=t("td.dp_clear",k),z=t("td.dp_view_toggler",k),a=t("td.dp_confirm",k),st.settings.always_visible instanceof jQuery?it.attr("disabled")||(st.settings.always_visible.append(l),st.show()):st.settings.container.append(l),l.on("mouseover","td:not(.dp_disabled)",function(){t(this).addClass("dp_hover")}).on("mouseout","td:not(.dp_disabled)",function(){t(this).removeClass("dp_hover")}),rt(l),t(st.settings.rtl?".dp_next":".dp_previous",D).on("click",function(){"months"===J?N--:"years"===J?N-=12:--j<0&&(j=11,N--),mt()}),st.settings.fast_navigation&&t(".dp_caption",D).on("click",function(){J="days"===J?t.inArray("months",G)>-1?"months":t.inArray("years",G)>-1?"years":"days":"months"===J?t.inArray("years",G)>-1?"years":t.inArray("days",G)>-1?"days":"months":t.inArray("days",G)>-1?"days":t.inArray("months",G)>-1?"months":"years",mt()}),t(st.settings.rtl?".dp_previous":".dp_next",D).on("click",function(){"months"===J?N++:"years"===J?N+=12:12==++j&&(j=0,N++),mt()}),g.on("click","td:not(.dp_disabled)",function(){var e;st.settings.select_other_months&&t(this).attr("class")&&null!==(e=t(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?bt(e[1],e[2]-1,e[3],"days",t(this)):bt(N,j,wt(t(this).html()),"days",t(this))}),F.on("click","td:not(.dp_disabled)",function(){var e=t(this).attr("class").match(/dp\_month\_([0-9]+)/);j=wt(e[1]),-1===t.inArray("days",G)?bt(N,j,1,"months",t(this)):(J="days",st.settings.always_visible&&it.val(""),mt())}),E.on("click","td:not(.dp_disabled)",function(){N=wt(t(this).html()),-1===t.inArray("months",G)?bt(N,0,1,"years",t(this)):(J="months",st.settings.always_visible&&it.val(""),mt())}),H.on("click",function(e){var s=!1!==st.settings.current_date?new Date(st.settings.current_date):new Date;e.preventDefault(),bt(s.getFullYear(),s.getMonth(),s.getDate(),"days",t(".dp_current",g))}),i.on("click",function(e){e.preventDefault(),it.val(""),h=null,p=null,u=null,st.settings.always_visible?t("td.dp_selected",l).removeClass("dp_selected"):(j=null,N=null),it.focus(),st.hide(),st.settings.onClear&&"function"==typeof st.settings.onClear&&st.settings.onClear.call(it)}),z.on("click",function(){"time"!==J?(J="time",mt()):t(".dp_caption",D).trigger("click")}),a.on("click",function(){if(t(".dp_time_controls_increase td",W).trigger("click"),t(".dp_time_controls_decrease td",W).trigger("click"),st.settings.onSelect&&"function"==typeof st.settings.onSelect){var e=new Date(N,j,h,B&&B.hours?S+(B.ampm&&("pm"===I&&S<12||"am"===I&&12===S)?12:0):0,B&&B.minutes?x:0,B&&B.seconds?Y:0);st.settings.onSelect.call(it,dt(e),N+"-"+vt(j+1,2)+"-"+vt(h,2)+(B?" "+vt(e.getHours(),2)+":"+vt(e.getMinutes(),2)+":"+vt(e.getSeconds(),2):""),e)}st.hide()}),l.on("mousedown",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(t){t.stopPropagation();var e=this,s=0;ft(e),U=setInterval(function(){ft(e),++s>5&&(clearInterval(U),U=setInterval(function(){ft(e),++s>10&&(clearInterval(U),U=setInterval(function(){ft(e)},100,e))},200,e))},400,e)}),l.on("mouseup mouseleave",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){clearInterval(U)}),st.settings.always_visible instanceof jQuery||(t(document).on("touchmove.Zebra_DatePicker_"+K,function(){X=!0}),t(document).on("mousedown.Zebra_DatePicker_"+K+" touchend.Zebra_DatePicker_"+K,function(e){if("touchend"===e.type&&X)return tt=!0,X=!1;X=!1,l.hasClass("dp_hidden")||(!st.settings.open_icon_only||!st.icon||t(e.target).get(0)===st.icon.get(0))&&(st.settings.open_icon_only||t(e.target).get(0)===it.get(0)||st.icon&&t(e.target).get(0)===st.icon.get(0))||0!==t(e.target).closest(".Zebra_DatePicker").length||st.hide(!0)}),t(document).on("keyup.Zebra_DatePicker_"+K,function(t){l.hasClass("dp_hidden")||27!==t.which||st.hide()})),mt()},at=function(e){if(e+="",""!==t.trim(e)){var s,i,n=ot(st.settings.format),a=["d","D","j","l","N","S","w","F","m","M","n","Y","y","G","g","H","h","i","s","a","A"],r=[],o=[],d=null,c=null;for(i=0;i<a.length;i++)(d=n.indexOf(a[i]))>-1&&r.push({character:a[i],position:d});if(r.sort(function(t,e){return t.position-e.position}),t.each(r,function(t,e){switch(e.character){case"d":o.push("0[1-9]|[12][0-9]|3[01]");break;case"D":o.push("[a-z]{3}");break;case"j":o.push("[1-9]|[12][0-9]|3[01]");break;case"l":o.push("[a-zÀ-ɏ]+");break;case"N":o.push("[1-7]");break;case"S":o.push("st|nd|rd|th");break;case"w":o.push("[0-6]");break;case"F":o.push("[a-z]+");break;case"m":o.push("0[1-9]|1[012]");break;case"M":o.push("[a-z]{3}");break;case"n":o.push("[1-9]|1[012]");break;case"Y":o.push("[0-9]{4}");break;case"y":o.push("[0-9]{2}");break;case"G":o.push("[1-9]|1[0-9]|2[0123]");break;case"g":o.push("[0-9]|1[012]");break;case"H":o.push("0[0-9]|1[0-9]|2[0123]");break;case"h":o.push("0[0-9]|1[012]");break;case"i":case"s":o.push("0[0-9]|[12345][0-9]");break;case"a":o.push("am|pm");break;case"A":o.push("AM|PM")}}),o.length&&(r.reverse(),t.each(r,function(t,e){n=n.replace(e.character,"("+o[o.length-t-1]+")")}),o=new RegExp("^"+n+"$","ig"),c=o.exec(e))){var l,g,_=new Date,h=1,p=_.getMonth()+1,u=_.getFullYear(),m=_.getHours(),f=_.getMinutes(),b=_.getSeconds(),y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"],w=!0;if(r.reverse(),t.each(r,function(e,s){if(!w)return!0;switch(s.character){case"m":case"n":p=wt(c[e+1]);break;case"d":case"j":h=wt(c[e+1]);break;case"D":case"l":case"F":case"M":g="D"===s.character||"l"===s.character?st.settings.days:st.settings.months,w=!1,t.each(g,function(t,i){if(w)return!0;if(c[e+1].toLowerCase()===i.substring(0,"D"===s.character||"M"===s.character?3:i.length).toLowerCase()){switch(s.character){case"D":c[e+1]=y[t].substring(0,3);break;case"l":c[e+1]=y[t];break;case"F":c[e+1]=v[t],p=t+1;break;case"M":c[e+1]=v[t].substring(0,3),p=t+1}w=!0}});break;case"Y":u=wt(c[e+1]);break;case"y":u=wt("20"+wt(c[e+1]));break;case"G":case"H":case"g":case"h":m=wt(c[e+1]);break;case"i":f=wt(c[e+1]);break;case"s":b=wt(c[e+1]);break;case"a":case"A":l=c[e+1].toLowerCase()}}),w&&(s=new Date(u,(p||1)-1,h||1,m+("pm"===l&&12!==m?12:"am"===l&&12===m?-12:0),f,b)).getFullYear()===u&&s.getDate()===(h||1)&&s.getMonth()===(p||1)-1)return s}return!1}},rt=function(e){"firefox"===Dt.name?e.css("MozUserSelect","none"):"explorer"===Dt.name?t(document).on("selectstart",e,function(){return!1}):e.mousedown(function(){return!1})},ot=function(t){return t.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},dt=function(e){var s,i,n="",a=e.getDate(),r=e.getDay(),o=st.settings.days[r],d=e.getMonth()+1,c=st.settings.months[d-1],l=e.getFullYear()+"",g=e.getHours(),_=g%12==0?12:g%12,h=e.getMinutes(),p=e.getSeconds(),u=g>=12?"pm":"am";for(s=0;s<st.settings.format.length;s++)switch(i=st.settings.format.charAt(s)){case"y":l=l.substr(2);case"Y":n+=l;break;case"m":d=vt(d,2);case"n":n+=d;break;case"M":c=t.isArray(st.settings.months_abbr)&&void 0!==st.settings.months_abbr[d-1]?st.settings.months_abbr[d-1]:st.settings.months[d-1].substr(0,3);case"F":n+=c;break;case"d":a=vt(a,2);case"j":n+=a;break;case"D":o=t.isArray(st.settings.days_abbr)&&void 0!==st.settings.days_abbr[r]?st.settings.days_abbr[r]:st.settings.days[r].substr(0,3);case"l":n+=o;break;case"N":r++;case"w":n+=r;break;case"S":n+=a%10==1&&11!==a?"st":a%10==2&&12!==a?"nd":a%10==3&&13!==a?"rd":"th";break;case"g":n+=_;break;case"h":n+=vt(_,2);break;case"G":n+=g;break;case"H":n+=vt(g,2);break;case"i":n+=vt(h,2);break;case"s":n+=vt(p,2);break;case"a":n+=u;break;case"A":n+=u.toUpperCase();break;default:n+=i}return n},ct=function(){var e,s,i,n,a,c,l,m,f,b,y,v,w=new Date(N,j+1,0).getDate(),k=new Date(N,j,1).getDay(),D=new Date(N,j,0).getDate(),A=k-st.settings.first_day_of_week;for(A=A<0?7+A:A,ut(st.settings.header_captions.days),s="<tr>",st.settings.show_week_number&&(s+="<th>"+st.settings.show_week_number+"</th>"),e=0;e<7;e++)i=(st.settings.first_day_of_week+(st.settings.rtl?6-e:e))%7,s+="<th>"+(t.isArray(st.settings.days_abbr)&&void 0!==st.settings.days_abbr[i]?st.settings.days_abbr[i]:st.settings.days[i].substr(0,2))+"</th>";for(s+="</tr><tr>",e=0;e<42;e++)v=st.settings.rtl?6-e%7*2:0,e>0&&e%7==0&&(s+="</tr><tr>"),e%7==0&&st.settings.show_week_number&&(s+="<th>"+gt(new Date(N,j,e-A+1))+"</th>"),i=v+(e-A+1),st.settings.select_other_months&&(e<A||i>w)&&(a=(n=new Date(N,j,i)).getFullYear(),c=n.getMonth(),l=n.getDate(),n=a+vt(c+1,2)+vt(l,2)),m=(st.settings.first_day_of_week+e)%7,y=t.inArray(m,st.settings.weekend_days)>-1,st.settings.rtl&&i<1||!st.settings.rtl&&e<A?s+='<td class="dp_not_in_month '+(y?"dp_weekend ":"")+(st.settings.select_other_months&&!ht(a,c,l)?"date_"+n:"dp_disabled")+'">'+(st.settings.select_other_months||st.settings.show_other_months?vt(v+D-A+e+1,st.settings.zero_pad?2:0):"&nbsp;")+"</td>":i>w?s+='<td class="dp_not_in_month '+(y?"dp_weekend ":"")+(st.settings.select_other_months&&!ht(a,c,l)?"date_"+n:"dp_disabled")+'">'+(st.settings.select_other_months||st.settings.show_other_months?vt(i-w,st.settings.zero_pad?2:0):"&nbsp;")+"</td>":(f="",b=lt(N,j,i),y&&(f=" dp_weekend"),j===o&&N===d&&r===i&&(f+=" dp_current"),""!==b&&(f+=" "+b),j===p&&N===u&&h===i&&(f+=" dp_selected"),ht(N,j,i)&&(f+=" dp_disabled"),s+="<td"+(""!==f?' class="'+t.trim(f)+'"':"")+">"+((st.settings.zero_pad?vt(i,2):i)||"&nbsp;")+"</td>");s+="</tr>",g.html(t(s)),st.settings.always_visible&&(_=t("td:not(.dp_disabled)",g)),g.show()},lt=function(e,s,i){var n,a,r;for(a in void 0!==s&&(s+=1),c)if(n=c[a],r=!1,t.isArray($[n])&&t.each($[n],function(){if(!r){var a;if((t.inArray(e,this[2])>-1||t.inArray("*",this[2])>-1)&&(void 0!==s&&t.inArray(s,this[1])>-1||t.inArray("*",this[1])>-1)&&(void 0!==i&&t.inArray(i,this[0])>-1||t.inArray("*",this[0])>-1)){if(t.inArray("*",this[3])>-1)return r=n;if(a=new Date(e,s-1,i).getDay(),t.inArray(a,this[3])>-1)return r=n}}}),r)return r;return r||""},gt=function(t){var e,s,i,n,a,r,o,d=t.getFullYear(),c=t.getMonth()+1,l=t.getDate();return c<3?(i=(s=((e=d-1)/4|0)-(e/100|0)+(e/400|0))-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)),n=0,a=l-1+31*(c-1)):(n=(i=(s=((e=d)/4|0)-(e/100|0)+(e/400|0))-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)))+1,a=l+((153*(c-3)+2)/5|0)+58+i),(o=a+3-(l=(a+(r=(e+s)%7)-n)%7))<0?53-((r-i)/5|0):o>364+i?1:1+(o/7|0)},_t=function(e){var s,i;if("explorer"===Dt.name&&6===Dt.version)switch(O||(s=wt(l.css("zIndex"))-1,O=t("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:s,position:"absolute",top:-1e3,left:-1e3,width:l.outerWidth(),height:l.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),t("body").append(O)),e){case"hide":O.hide();break;default:i=l.offset(),O.css({top:i.top,left:i.left,display:"block"})}},ht=function(e,s,i){var n,a,r,o;if(!(void 0!==e&&!isNaN(e)||void 0!==s&&!isNaN(s)||void 0!==i&&!isNaN(i)))return!1;if(e<1e3)return!0;if(t.isArray(st.settings.direction)||0!==wt(st.settings.direction)){if(8===(a=((n=wt(yt(e,void 0!==s?vt(s,2):"",void 0!==i?vt(i,2):"")))+"").length)&&(void 0!==T&&n<wt(yt(w,vt(v,2),vt(y,2)))||void 0!==b&&n>wt(yt(P,vt(M,2),vt(C,2)))))return!0;if(6===a&&(void 0!==T&&n<wt(yt(w,vt(v,2)))||void 0!==b&&n>wt(yt(P,vt(M,2)))))return!0;if(4===a&&(void 0!==T&&n<w||void 0!==b&&n>P))return!0}return void 0!==s&&(s+=1),r=!1,o=!1,t.isArray(m)&&m.length&&t.each(m,function(){if(!r){var n;if((t.inArray(e,this[2])>-1||t.inArray("*",this[2])>-1)&&(void 0!==s&&t.inArray(s,this[1])>-1||t.inArray("*",this[1])>-1)&&(void 0!==i&&t.inArray(i,this[0])>-1||t.inArray("*",this[0])>-1)){if(t.inArray("*",this[3])>-1)return r=!0;if(n=new Date(e,s-1,i).getDay(),t.inArray(n,this[3])>-1)return r=!0}}}),f&&t.each(f,function(){if(!o){var n;if((t.inArray(e,this[2])>-1||t.inArray("*",this[2])>-1)&&(o=!0,void 0!==s))if(o=!0,t.inArray(s,this[1])>-1||t.inArray("*",this[1])>-1){if(void 0!==i)if(o=!0,t.inArray(i,this[0])>-1||t.inArray("*",this[0])>-1){if(t.inArray("*",this[3])>-1)return o=!0;if(n=new Date(e,s-1,i).getDay(),t.inArray(n,this[3])>-1)return o=!0;o=!1}else o=!1}else o=!1}}),(!f||!o)&&!(!m||!r)},pt=function(t){return(t+"").match(/^\-?[0-9]+$/)},ut=function(e){!isNaN(parseFloat(j))&&isFinite(j)&&(e=e.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(e){switch(e){case"m":return vt(j+1,2);case"n":return j+1;case"F":return st.settings.months[j];case"M":return t.isArray(st.settings.months_abbr)&&void 0!==st.settings.months_abbr[j]?st.settings.months_abbr[j]:st.settings.months[j].substr(0,3);default:return e}})),!isNaN(parseFloat(N))&&isFinite(N)&&(e=e.replace(/\bY\b/,N).replace(/\by\b/,(N+"").substr(2)).replace(/\bY1\b/i,N-7).replace(/\bY2\b/i,N+4)),t(".dp_caption",D).html(e)},mt=function(e){var s,n,r,c;""===g.text()||"days"===J?(""===g.text()?(st.settings.always_visible instanceof jQuery||l.css("left",-1e3),l.removeClass("hidden"),ct(),s=void 0!==g[0].getBoundingClientRect&&void 0!==g[0].getBoundingClientRect().height?g[0].getBoundingClientRect().height:g.outerHeight(!0),F.css("height",s),E.css("height",s),W.css("height",s+D.outerHeight(!0)),l.css("width",l.outerWidth()),l.addClass("dp_hidden")):ct(),D.show(),F.hide(),E.hide(),W.hide(),z.hide(),a.hide(),B&&z.show().removeClass("dp_calendar")):"months"===J?(!function(){ut(st.settings.header_captions.months);var e,s,i,n="<tr>";for(e=0;e<12;e++)e>0&&e%3==0&&(n+="</tr><tr>"),s="dp_month_"+(i=st.settings.rtl?2+e-e%3*2:e),ht(N,i)?s+=" dp_disabled":!1!==p&&p===i&&N===u?s+=" dp_selected":o===i&&d===N&&(s+=" dp_current"),n+='<td class="'+t.trim(s)+'">'+(t.isArray(st.settings.months_abbr)&&void 0!==st.settings.months_abbr[i]?st.settings.months_abbr[i]:st.settings.months[i].substr(0,3))+"</td>";n+="</tr>",F.html(t(n)),st.settings.always_visible&&(Z=t("td:not(.dp_disabled)",F)),F.show()}(),g.hide(),E.hide(),W.hide(),z.hide(),a.hide()):"years"===J?(!function(){ut(st.settings.header_captions.years);var e,s,i,n="<tr>";for(e=0;e<12;e++)e>0&&e%3==0&&(n+="</tr><tr>"),i=st.settings.rtl?2+e-e%3*2:e,s="",ht(N-7+i)?s+=" dp_disabled":u&&u===N-7+i?s+=" dp_selected":d===N-7+i&&(s+=" dp_current"),n+="<td"+(""!==t.trim(s)?' class="'+t.trim(s)+'"':"")+">"+(N-7+i)+"</td>";n+="</tr>",E.html(t(n)),st.settings.always_visible&&(Q=t("td:not(.dp_disabled)",E)),E.show()}(),g.hide(),F.hide(),W.hide(),z.hide(),a.hide()):"time"===J&&(c=B.hours&&B.minutes&&B.seconds&&B.ampm,r='<tr class="dp_time_controls_increase'+(c?" dp_time_controls_condensed":"")+'">'+(st.settings.rtl&&B.ampm?'<td class="dp_time_ampm dp_time_control">'+st.settings.navigation[2]+"</td>":"")+(B.hours?'<td class="dp_time_hour dp_time_control">'+st.settings.navigation[2]+"</td>":"")+(B.minutes?'<td class="dp_time_minute dp_time_control">'+st.settings.navigation[2]+"</td>":"")+(B.seconds?'<td class="dp_time_second dp_time_control">'+st.settings.navigation[2]+"</td>":"")+(!st.settings.rtl&&B.ampm?'<td class="dp_time_ampm dp_time_control">'+st.settings.navigation[2]+"</td>":"")+"</tr>",r+='<tr class="dp_time_segments'+(c?" dp_time_controls_condensed":"")+'">',st.settings.rtl&&B.ampm&&(r+='<td class="dp_time_ampm dp_disabled'+(B.hours||B.minutes||B.seconds?" dp_time_separator":"")+'"><div>'+I.toUpperCase()+"</div></td>"),B.hours&&(r+='<td class="dp_time_hours dp_disabled'+(B.minutes||B.seconds||!st.settings.rtl&&B.ampm?" dp_time_separator":"")+'"><div>'+("h"===B.hour_format||"H"===B.hour_format?vt(S,2):S)+"</div></td>"),B.minutes&&(r+='<td class="dp_time_minutes dp_disabled'+(B.seconds||!st.settings.rtl&&B.ampm?" dp_time_separator":"")+'"><div>'+vt(x,2)+"</div></td>"),B.seconds&&(r+='<td class="dp_time_seconds dp_disabled'+(!st.settings.rtl&&B.ampm?" dp_time_separator":"")+'"><div>'+vt(Y,2)+"</div></td>"),!st.settings.rtl&&B.ampm&&(r+='<td class="dp_time_ampm dp_disabled">'+I.toUpperCase()+"</td>"),r+="</tr>",r+='<tr class="dp_time_controls_decrease'+(c?" dp_time_controls_condensed":"")+'">'+(st.settings.rtl&&B.ampm?'<td class="dp_time_ampm dp_time_control">'+st.settings.navigation[3]+"</td>":"")+(B.hours?'<td class="dp_time_hour dp_time_control">'+st.settings.navigation[3]+"</td>":"")+(B.minutes?'<td class="dp_time_minute dp_time_control">'+st.settings.navigation[3]+"</td>":"")+(B.seconds?'<td class="dp_time_second dp_time_control">'+st.settings.navigation[3]+"</td>":"")+(!st.settings.rtl&&B.ampm?'<td class="dp_time_ampm dp_time_control">'+st.settings.navigation[3]+"</td>":"")+"</tr>",W.html(t(r)),W.show(),1===G.length?(z.hide(),a.show()):(z.show().addClass("dp_calendar"),""===it.val()?a.hide():a.show()),D.hide(),g.hide(),F.hide(),E.hide()),!1!==e&&st.settings.onChange&&"function"==typeof st.settings.onChange&&void 0!==J&&((n="days"===J?g.find("td:not(.dp_disabled)"):"months"===J?F.find("td:not(.dp_disabled)"):"years"===J?E.find("td:not(.dp_disabled)"):W.find(".dp_time_segments td")).each(function(){var e;"days"===J?t(this).hasClass("dp_not_in_month")&&!t(this).hasClass("dp_disabled")?(e=t(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),t(this).data("date",e[1]+"-"+e[2]+"-"+e[3])):t(this).data("date",N+"-"+vt(j+1,2)+"-"+vt(wt(t(this).text()),2)):"months"===J?(e=t(this).attr("class").match(/dp\_month\_([0-9]+)/),t(this).data("date",N+"-"+vt(wt(e[1])+1,2))):"years"===J&&t(this).data("date",wt(t(this).text()))}),st.settings.onChange.call(it,J,n)),k.show(),"time"===J&&G.length>1?(H.hide(),i.hide(),z.css("width",""===it.val()?"100%":"50%")):(H.show(),i.show(),!0===st.settings.show_clear_date||0===st.settings.show_clear_date&&""!==it.val()||st.settings.always_visible&&!1!==st.settings.show_clear_date?L?(H.css("width","50%"),i.css("width","50%")):(H.hide(),i.css("width",t.inArray(G,"time")>-1?"50%":"100%")):(i.hide(),L?H.css("width","100%"):(H.hide(),(!B||"time"!==J&&"days"!==J)&&k.hide())))},ft=function(e){var s,i=t(e).parent(".dp_time_controls_increase").length>0,n=t(e).attr("class").match(/dp\_time\_([^\s]+)/i),a=t(".dp_time_segments .dp_time_"+n[1]+("ampm"!==n[1]?"s":""),W),r=a.text().toLowerCase(),o=B[n[1]+("ampm"!==n[1]?"s":"")],d=t.inArray("ampm"!==n[1]?parseInt(r,10):r,o),c=-1===d?0:i?d+1>=o.length?0:d+1:d-1<0?o.length-1:d-1;"hour"===n[1]?S=o[c]:"minute"===n[1]?x=o[c]:"second"===n[1]?Y=o[c]:I=o[c],!h&&st.settings.start_date&&(s=at(st.settings.start_date))&&(h=s.getDate()),h||(h=y),a.text(vt(o[c],2).toUpperCase()),bt(N,j,h)},bt=function(t,e,s,i,n){var a=new Date(t,e,s,B&&B.hours?S+(B.ampm?"pm"===I&&12!==S?12:"am"===I&&12===S?-12:0:0):12,B&&B.minutes?x:0,B&&B.seconds?Y:0),r="days"===i?_:"months"===i?Z:Q,o=dt(a);it.val(o),(st.settings.always_visible||B)&&(p=a.getMonth(),j=a.getMonth(),u=a.getFullYear(),N=a.getFullYear(),h=a.getDate(),n&&r&&(r.removeClass("dp_selected"),n.addClass("dp_selected"),"days"===i&&n.hasClass("dp_not_in_month")&&!n.hasClass("dp_disabled")&&st.show())),B?(J="time",mt()):(it.focus(),st.hide()),kt(a),!B&&st.settings.onSelect&&"function"==typeof st.settings.onSelect&&st.settings.onSelect.call(it,o,t+"-"+vt(e+1,2)+"-"+vt(s,2),a)},yt=function(){var t,e="";for(t=0;t<arguments.length;t++)e+=arguments[t]+"";return e},vt=function(t,e){for(t+="";t.length<e;)t="0"+t;return t},wt=function(t){return parseInt(t,10)},kt=function(e){st.settings.pair&&t.each(st.settings.pair,function(){var s,i=t(this);i.data&&i.data("Zebra_DatePicker")?((s=i.data("Zebra_DatePicker")).update({reference_date:e,direction:0===s.settings.direction?1:s.settings.direction}),s.settings.always_visible&&s.show()):i.data("zdp_reference_date",e)})},Dt={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(t){var e,s,i;for(e=0;e<t.length;e++)if(s=t[e].string,i=t[e].prop,this.versionSearchString=t[e].versionSearch||t[e].identity,s){if(-1!==s.indexOf(t[e].subString))return t[e].identity}else if(i)return t[e].identity},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!==e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};st.settings={},st.clear_date=function(){t(i).trigger("click")},st.destroy=function(){void 0!==st.icon&&(st.icon.off("click.Zebra_DatePicker_"+K),st.icon.off("focus.Zebra_DatePicker_"+K),st.icon.off("keydown.Zebra_DatePicker_"+K),st.icon.remove()),l.off(),l.remove(),!st.settings.show_icon||st.settings.always_visible instanceof jQuery||it.unwrap(),it.off("blur.Zebra_DatePicker_"+K),it.off("click.Zebra_DatePicker_"+K),it.off("focus.Zebra_DatePicker_"+K),it.off("keydown.Zebra_DatePicker_"+K),it.off("mousedown.Zebra_DatePicker_"+K),t(document).off("keyup.Zebra_DatePicker_"+K),t(document).off("mousedown.Zebra_DatePicker_"+K),t(document).off("touchend.Zebra_DatePicker_"+K),t(window).off("resize.Zebra_DatePicker_"+K),t(window).off("orientationchange.Zebra_DatePicker_"+K),it.removeData("Zebra_DatePicker"),it.attr("readonly",q.readonly),it.attr("style",q.style?q.style:""),it.css("paddingLeft",q.padding_left),it.css("paddingRight",q.padding_right)},st.hide=function(t){l.hasClass("dp_hidden")||st.settings.always_visible&&!t||(_t("hide"),l.addClass("dp_hidden"),st.settings.onClose&&"function"==typeof st.settings.onClose&&st.settings.onClose.call(it))},st.set_date=function(t){var e;"object"==typeof t&&t instanceof Date&&(t=dt(t)),(e=at(t))&&!ht(e.getFullYear(),e.getMonth(),e.getDate())&&(it.val(t),kt(e))},st.show=function(e){J=st.settings.view;var s,i=at(it.val()||(st.settings.start_date?st.settings.start_date:""));if(i?(p=i.getMonth(),j=i.getMonth(),u=i.getFullYear(),N=i.getFullYear(),h=i.getDate(),ht(u,p,h)&&(st.settings.strict&&it.val(""),j=v,N=w)):(j=v,N=w),B&&(s=i||new Date,S=s.getHours(),x=s.getMinutes(),Y=s.getSeconds(),I=S>=12?"pm":"am",B.is12hour&&(S=S%12==0?12:S%12),t.isArray(st.settings.enabled_hours)&&-1===t.inArray(S,st.settings.enabled_hours)&&(S=st.settings.enabled_hours[0]),t.isArray(st.settings.enabled_minutes)&&-1===t.inArray(x,st.settings.enabled_minutes)&&(x=st.settings.enabled_minutes[0]),t.isArray(st.settings.enabled_seconds)&&-1===t.inArray(Y,st.settings.enabled_seconds)&&(Y=st.settings.enabled_seconds[0])),mt(e),st.settings.always_visible instanceof jQuery)l.removeClass("dp_hidden");else{if(st.settings.container.is("body")){var n=l.outerWidth(),a=l.outerHeight(),r=(void 0!==A?A.offset().left+A.outerWidth(!0):it.offset().left+it.outerWidth(!0))+st.settings.offset[0],o=(void 0!==A?A.offset().top:it.offset().top)-a+st.settings.offset[1],d=t(window).width(),c=t(window).height(),g=t(window).scrollTop(),_=t(window).scrollLeft();"below"===st.settings.default_position&&(o=(void 0!==A?A.offset().top:it.offset().top)+st.settings.offset[1]),r+n>_+d&&(r=_+d-n),r<_&&(r=_),o+a>g+c&&(o=g+c-a),o<g&&(o=g),l.css({left:r,top:o})}else l.css({left:0,top:0});l.removeClass("dp_hidden"),_t()}!1!==e&&st.settings.onOpen&&"function"==typeof st.settings.onOpen&&st.settings.onOpen.call(it)},st.update=function(e){st.original_direction&&(st.original_direction=st.direction),st.settings=t.extend(st.settings,e),nt(!0)},Dt.init(),nt()},t.fn.Zebra_DatePicker=function(e){return this.each(function(){void 0!==t(this).data("Zebra_DatePicker")&&t(this).data("Zebra_DatePicker").destroy();var s=new t.Zebra_DatePicker(this,e);t(this).data("Zebra_DatePicker",s)})},t.fn.Zebra_DatePicker.defaults={}});